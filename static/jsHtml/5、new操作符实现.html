<!--
 * @Description: 
 * @version: v1.0
 * @Author: ZhangCb
 * @Date: 2021-01-26 16:14:24
 * @LastEditors: ZhangCb
 * @LastEditTime: 2021-02-02 14:22:19
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="./index.css">
  <title>Document</title>
</head>
<body>
  <h1>new操作符实现</h1>
  <pre>
    function person() {
      this.name = 'zcb'
      this.age = '23'
    }
    
    var a = new person()
    
    console.log(a.name)
    console.log(a.age)
    
    function myNew() {
      let obj = {},
          Constructor = [].shift.call(arguments)
      obj.__proto__ = Constructor.prototype
      var ret = Constructor.apply(obj, arguments)
      return typeof ret === 'object' ? ret : obj
    }
    
    var b = myNew(person)
    
    console.log(b.name)
    console.log(b.age)
  </pre>
  <script>
    function person() {
      this.name = 'zcb'
      this.age = '23'
    }

    var a = new person()

    console.log(a.name)
    console.log(a.age)

    function myNew() {
      let obj = {},
          Constructor = [].shift.call(arguments)
      obj.__proto__ = Constructor.prototype
      var ret = Constructor.apply(obj, arguments)
      return typeof ret === 'object' ? ret : obj
    }

    var b = myNew(person)

    console.log(b.name)
    console.log(b.age)
  </script>
</body>
</html>
